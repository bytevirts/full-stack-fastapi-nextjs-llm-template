# sample_billing_app_v3 Environment Variables

# === Project ===
PROJECT_NAME=sample_billing_app_v3
DEBUG=true
ENVIRONMENT=local

# === Logfire ===
# Get your token at https://logfire.pydantic.dev
LOGFIRE_TOKEN=
LOGFIRE_SERVICE_NAME=sample_billing_app_v3
LOGFIRE_ENVIRONMENT=development

# === PostgreSQL ===
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=sample_billing_app_v3

# === JWT Auth ===
# Generate with: openssl rand -hex 32
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32
ACCESS_TOKEN_EXPIRE_MINUTES=10080
ALGORITHM=HS256

# === Billing ===
BILLING_MONTHLY_CREDITS=50
BILLING_TOKENS_PER_CREDIT=1000
BILLING_CHARS_PER_TOKEN=4
BILLING_OUTPUT_TOKENS_ESTIMATE=512
BILLING_CREDIT_PACKS=[{"credits":2000,"price_usd":9.9,"provider_product_id":""},{"credits":5000,"price_usd":19.9,"provider_product_id":""}]
BILLING_MODEL_MULTIPLIERS={"default":1}
BILLING_PROVIDER=creem

# === Creem ===
CREEM_API_KEY=
CREEM_WEBHOOK_SECRET=
CREEM_API_BASE_URL=https://api.creem.io
CREEM_SUBSCRIPTION_PRODUCT_ID=
CREEM_SUCCESS_URL=http://localhost:3000/billing?status=success
CREEM_CANCEL_URL=http://localhost:3000/billing?status=cancel

# === API Key Auth ===
API_KEY=change-me-in-production
API_KEY_HEADER=X-API-Key

# === Redis ===
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=
REDIS_DB=0

# === Taskiq ===
TASKIQ_BROKER_URL=redis://localhost:6379/1
TASKIQ_RESULT_BACKEND=redis://localhost:6379/1

# === Sentry ===
SENTRY_DSN=

# === Prometheus ===
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_INCLUDE_IN_SCHEMA=false

# === S3/MinIO Storage ===
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=sample_billing_app_v3
S3_REGION=us-east-1

# === AI Agent (crewai, gemini) ===
GEMINI_API_KEY=
AI_MODEL=gemini-1.5-flash
AI_TEMPERATURE=0.7

# === CORS ===
# JSON list of allowed origins (default: localhost:3000, localhost:8080)
# Note: "*" is blocked in production - specify explicit origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# === Docker Production (Traefik) ===
# Domain for production deployment
DOMAIN=example.com

# Let's Encrypt email for SSL certificates
ACME_EMAIL=admin@example.com

# Traefik dashboard auth (generate with: htpasswd -nb admin password)
# TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$...
# Redis password for production
REDIS_PASSWORD=change-me-in-production
